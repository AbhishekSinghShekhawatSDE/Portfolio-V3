document.addEventListener("DOMContentLoaded",function(){(function e(){let t=document.querySelector(".main-header");if(!t)return;let r=window.scrollY;window.addEventListener("scroll",()=>{r<window.scrollY&&window.scrollY>150?t.classList.add("header--hidden"):t.classList.remove("header--hidden"),r=window.scrollY})})(),function e(){if(window.matchMedia("(hover: hover) and (pointer: fine)").matches){let t=document.querySelector(".cursor-outline");window.addEventListener("mousemove",e=>{t.style.setProperty("--x",e.clientX+"px"),t.style.setProperty("--y",e.clientY+"px")});let r=document.querySelectorAll("a, button, .btn, .link-arrow, .logo, .kinetic-card, .inertial-card");r.forEach(e=>{e.addEventListener("mouseenter",()=>document.body.classList.add("cursor-hover")),e.addEventListener("mouseleave",()=>document.body.classList.remove("cursor-hover"))}),window.addEventListener("mousedown",()=>document.body.classList.add("cursor-pressed")),window.addEventListener("mouseup",()=>document.body.classList.remove("cursor-pressed"))}}(),function e(){let t=document.getElementById("quantum-canvas");if(!t)return;let r=t.getContext("2d"),n,o,i={x:null,y:null,radius:150};function s(){t.width=window.innerWidth,t.height=window.innerHeight}s(),window.addEventListener("resize",()=>{s(),c()}),window.addEventListener("mousemove",e=>{i.x=e.clientX,i.y=e.clientY}),window.addEventListener("mouseout",()=>{i.x=null,i.y=null});class l{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.size=1.5*Math.random()+1,this.baseX=this.x,this.baseY=this.y,this.density=40*Math.random()+5,this.color=`rgba(59, 130, 246, ${.5*Math.random()+.2})`}draw(){r.fillStyle=this.color,r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.closePath(),r.fill()}update(){if(null!==i.x){let e=i.x-this.x,t=i.y-this.y,r=Math.sqrt(e*e+t*t);if(r<i.radius){let n=i.radius,o=(n-r)/n,s=e/r*o*this.density,l=t/r*o*this.density;this.x-=s,this.y-=l}else this.x!==this.baseX&&(this.x-=(this.x-this.baseX)/10),this.y!==this.baseY&&(this.y-=(this.y-this.baseY)/10)}}}class a{constructor(e,t){this.startNode=e,this.endNode=t,this.progress=0,this.speed=.015*Math.random()+.005}update(){this.progress+=this.speed}draw(){let e=this.startNode.x+(this.endNode.x-this.startNode.x)*this.progress,t=this.startNode.y+(this.endNode.y-this.startNode.y)*this.progress;r.beginPath(),r.arc(e,t,2,0,2*Math.PI),r.fillStyle="rgba(255, 255, 255, 0.8)",r.shadowColor="rgba(255, 255, 255, 1)",r.shadowBlur=10,r.fill(),r.shadowBlur=0}}function c(){n=[],o=[];let e=1e4;window.matchMedia("(max-width: 768px)").matches&&(e=3e4);let r=t.width*t.height/e;for(let i=0;i<r;i++)n.push(new l)}c(),function e(){r.clearRect(0,0,t.width,t.height),n.forEach(e=>{e.update(),e.draw()});let i=t.width/8*(t.height/8);for(let s=0;s<n.length;s++)for(let l=s;l<n.length;l++){let c=(n[s].x-n[l].x)*(n[s].x-n[l].x)+(n[s].y-n[l].y)*(n[s].y-n[l].y);if(c<i){let d=1-c/2e4;r.strokeStyle=`rgba(59, 130, 246, ${.15*d})`,r.lineWidth=1,r.beginPath(),r.moveTo(n[s].x,n[s].y),r.lineTo(n[l].x,n[l].y),r.stroke()}}if(o.forEach((e,t)=>{e.update(),e.draw(),e.progress>=1&&o.splice(t,1)}),.03>Math.random()&&o.length<n.length/20){let u=n[Math.floor(Math.random()*n.length)],h=n.filter(e=>{if(e===u)return!1;let t=(u.x-e.x)*(u.x-e.x)+(u.y-e.y)*(u.y-e.y);return t<i&&t>100});if(h.length>0){let y=h[Math.floor(Math.random()*h.length)];o.push(new a(u,y))}}requestAnimationFrame(e)}()}(),function e(){let t=document.querySelectorAll(".kinetic-card");t.forEach(e=>{let t=t=>{let r=e.getBoundingClientRect(),n=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY;if(void 0===n||void 0===o)return;let i=n-r.left,s=o-r.top;e.style.transform=`perspective(1000px) translateY(-5px) rotateX(${-(10*((s-r.height/2)/(r.height/2)))}deg) rotateY(${(i-r.width/2)/(r.width/2)*10}deg)`},r=()=>{e.style.transform="perspective(1000px) translateY(0) rotateX(0) rotateY(0)"};e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",r)})}(),function e(){let t=document.querySelectorAll(".inertial-card");t.forEach(e=>{let t=t=>{let r=e.getBoundingClientRect(),n=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY;if(void 0===n||void 0===o)return;let i=n-r.left,s=o-r.top;e.style.transform=`perspective(1200px) translateY(-2px) rotateX(${-(4*((s-r.height/2)/(r.height/2)))}deg) rotateY(${(i-r.width/2)/(r.width/2)*4}deg)`},r=()=>{e.style.transform="perspective(1200px) translateY(0) rotateX(0) rotateY(0)"};e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",r)})}(),function e(){let t=document.querySelectorAll(".btn");t.forEach(e=>{e.addEventListener("click",function(e){let t=this.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,o=document.createElement("span");o.classList.add("ripple"),o.style.left=`${r}px`,o.style.top=`${n}px`;let i=this.querySelector(".ripple");i&&i.remove(),this.appendChild(o),o.addEventListener("animationend",()=>o.remove())})})}(),function e(){let t=document.querySelectorAll(".fade-in-element"),r=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{root:null,rootMargin:"0px",threshold:.1});t.forEach(e=>r.observe(e))}(),function e(){let t=document.getElementById("copyright-year");t&&(t.textContent=new Date().getFullYear())}(),function e(){let t=document.querySelector(".timeline");if(!t)return;let r=t.querySelectorAll(".timeline-item"),n=t.querySelector(".timeline-progress-dot"),o=t.querySelector(".timeline-line");if(!n||!o||0===r.length)return;r.forEach(e=>{let t=document.createElement("div");t.classList.add("timeline-checkpoint-dot"),e.appendChild(t)});let i=t.querySelectorAll(".timeline-checkpoint-dot");function s(){let e=o.getBoundingClientRect(),t=n.getBoundingClientRect(),l=(e.bottom-t.bottom)/e.height;r.forEach((e,t)=>{let n=1-t/(r.length-1);l>=n&&i[t].classList.add("activated")}),requestAnimationFrame(s)}n.addEventListener("mouseenter",()=>{n.style.animationPlayState="paused"}),n.addEventListener("mouseleave",()=>{n.style.animationPlayState="running"}),n.addEventListener("animationiteration",()=>{i.forEach(e=>e.classList.remove("activated"))}),requestAnimationFrame(s)}(),function e(){let t=document.querySelector(".project-filters");if(!t)return;let r=t.querySelectorAll(".filter-btn"),n=document.querySelectorAll(".project-card-item");r.forEach(e=>{e.addEventListener("click",()=>{t.querySelector(".active").classList.remove("active"),e.classList.add("active");let r=e.dataset.filter;n.forEach(e=>{"all"===r||e.dataset.category.includes(r)?e.classList.remove("hide"):e.classList.add("hide")})})})}(),function e(){let t=document.getElementById("contactForm");t&&t.addEventListener("submit",async e=>{e.preventDefault();let r=t.querySelector(".form-submit-btn"),n=t.querySelector(".form-status-note");r.disabled=!0,r.textContent="Sending...",n.style.color="var(--color-text-secondary)",n.textContent="Please wait...";try{let o=new FormData(t),i=Object.fromEntries(o.entries()),s=new URLSearchParams(i),l=await fetch(`https://script.google.com/macros/s/AKfycbzXOG1hL0c67ms39GrW4OIY10GhdzQjULr9Drtgf0VzIHvlB8XEBFQPYMQ-50OuUTjq/exec?${s}`,{method:"GET",mode:"cors",cache:"no-cache"}),a=await l.text(),c=JSON.parse(a);if("success"===c.status)n.style.color="var(--color-primary)",n.textContent="Thank you! Your message has been sent successfully.",r.textContent="Message Sent!",t.reset(),setTimeout(()=>{window.location.href="thankyou.html"},2e3);else throw Error(c.message||"An unknown error occurred on the server.")}catch(d){console.error("Form submission error:",d),n.style.color="#F87171",n.textContent=`Error: ${d.message}. Please try again later.`,r.disabled=!1,r.textContent="Send Message"}})}(),function e(){let t=document.getElementById("contributionForm");t&&t.addEventListener("submit",async e=>{e.preventDefault();let r=t.querySelector(".form-submit-btn"),n=t.querySelector(".form-status-note");n.textContent="",n.style.color="#F87171";let o=new FormData(t);if(!o.get("fullName").trim()){n.textContent="Please enter your Full Name.";return}if(!o.get("email").trim()){n.textContent="Please enter your Email Address.";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.get("email"))){n.textContent="Please enter a valid email format.";return}if(!o.get("mobileNumber").trim()){n.textContent="Please enter your Mobile Number.";return}if(!o.get("collegeName").trim()){n.textContent="Please enter your College Name.";return}if(!o.get("branch").trim()){n.textContent="Please enter your Branch / Stream.";return}if(!o.get("currentYear")){n.textContent="Please select your Current Year.";return}if(!o.get("primaryArea")){n.textContent="Please select your Primary Contribution Area.";return}if(!o.get("keySkills").trim()){n.textContent="Please list your Key Skills.";return}if(!o.get("profileLink").trim()){n.textContent="Please provide a Portfolio/LinkedIn/GitHub link.";return}if(!o.get("availability")){n.textContent="Please select your Weekly Availability.";return}if(!o.get("whyJoin").trim()){n.textContent="Please tell us why you want to join.";return}if(!o.get("consent")){n.textContent="You must agree to the consent terms.";return}if(!o.get("agreement")){n.textContent="You must agree to the contribution terms.";return}r.disabled=!0,r.textContent="Submitting...",n.style.color="var(--color-text-secondary)",n.textContent="Please wait...";try{let i=new FormData(t);i.set("consent","Agreed"),i.set("agreement","Agreed");let s=new URLSearchParams(i),l=await fetch(`https://script.google.com/macros/s/AKfycbyMGUtlCvV2ZHj59g2PwjbJV1oLqxfQ4SR0OCI-FAsFbi07dthMTSTn_LtVKuMYzB6wiA/exec?${s}`);if(!l.ok)throw Error(`Server responded with status: ${l.status}`);let a=await l.json();if("success"===a.status)n.style.color="var(--color-primary)",n.textContent="Thank you! Your application has been received.",r.textContent="Application Sent!",t.reset(),setTimeout(()=>{window.location.href="thankyou.html"},2e3);else throw Error(a.message||"The server reported a submission error.")}catch(c){console.error("Contribution form submission error:",c),n.textContent=`Error: ${c.message}. Please check console or try again.`,r.disabled=!1,r.textContent="Submit My Application"}})}(),function e(){let t=document.getElementById("expertise-intro");t&&new Typed("#expertise-intro",{strings:["A showcase of the skills, verifiable credentials, and hands-on experience I use to build robust and efficient systems. I am driven by a growth mindset and a dedication to disciplined, high-quality engineering."],typeSpeed:20,showCursor:!1})}(),function e(){let t=document.querySelectorAll(".proficiency-meter"),r=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.querySelector("span");t.style.setProperty("--proficiency",`${Math.floor(10*Math.random())+89}%`),r.unobserve(e.target)}})},{threshold:.5});t.forEach(e=>r.observe(e))}(),function e(){let t=document.getElementById("contribute-intro");t&&window.Typed&&new Typed("#contribute-intro",{strings:["This is a genuine opportunity to gain <span class='text-highlight'>real-world experience</span> that matters. You will contribute to live projects, earn <span class='text-highlight'>verifiable recognition</span>, and build a network that will accelerate your career."],typeSpeed:25,backSpeed:10,loop:!1,showCursor:!0,cursorChar:"_"})}(),function e(){let t=document.querySelectorAll(".faq-item");t.forEach(e=>{let t=e.querySelector(".faq-question");t.addEventListener("click",()=>{e.classList.toggle("active")})})}(),function e(){let t=document.getElementById("resume-end-trigger");if(!t)return;let r=!1,n=new IntersectionObserver(e=>{let o=e[0];o.isIntersecting&&!r&&(confetti({particleCount:150,spread:100,origin:{y:.7}}),r=!0,n.unobserve(t))},{threshold:1});n.observe(t)}(),function e(){let t=document.getElementById("gallery-container");if(!t)return;let r=document.getElementById("gallery-gate"),n=document.getElementById("gallery-content"),o=document.getElementById("show-register-btn"),i=document.getElementById("show-login-btn"),s=document.getElementById("register-form"),l=document.getElementById("login-form"),a="https://script.google.com/macros/s/AKfycbz2y8SFElJBx03Kanb7ILD347LNWPps8CLZQuKyUrg7-954gWONWm26LMvSaaCUs4mmqQ/exec",c=(e,t,r,n)=>{let o=document.querySelectorAll(".form-status-note");o.forEach(e=>e.textContent=""),t.style.display="none",e.style.display="block",r.classList.add("active"),n.classList.remove("active")};o&&o.addEventListener("click",()=>c(s,l,o,i)),i&&i.addEventListener("click",()=>c(l,s,i,o)),s&&s.addEventListener("submit",async e=>{e.preventDefault();let t=s.querySelector(".form-status-note"),r=s.querySelector('button[type="submit"]');t.textContent="";let n=s.querySelector('input[name="password"]').value,o=s.querySelector('input[name="confirm_password"]').value;if(n!==o){t.style.color="#F87171",t.textContent="Passwords do not match.";return}r.disabled=!0,r.textContent="Registering...";let i=new FormData(s);i.append("command","register");let l=new URLSearchParams(i);try{let c=await fetch(`${a}?${l}`);if(!c.ok)throw Error(`Server Error: ${c.statusText}`);let d=await c.json();if("success"===d.status)t.style.color="var(--color-primary)",t.textContent=d.message,s.reset();else throw Error(d.message)}catch(u){t.style.color="#F87171",t.textContent=`Error: ${u.message}`}finally{r.disabled=!1,r.textContent="Create Account"}}),l&&l.addEventListener("submit",async e=>{e.preventDefault();let t=l.querySelector(".form-status-note"),o=l.querySelector('button[type="submit"]');t.textContent="",o.disabled=!0,o.textContent="Logging In...";let i=new FormData(l);i.append("command","login");let s=new URLSearchParams(i);try{let c=await fetch(`${a}?${s}`),d=await c.json();if("success"===d.status)r.style.display="none",n.style.display="block",n.classList.add("visible"),window.initKineticCards&&window.initKineticCards();else throw Error(d.message)}catch(u){t.style.color="#F87171",t.textContent=u.message,o.disabled=!1,o.textContent="Enter Gallery"}});let d=document.getElementById("gallery-modal");if(d){let u=d.querySelector(".modal-content"),h=d.querySelector(".close-modal-btn"),y=document.querySelectorAll(".gallery-item");y.forEach(e=>{e.addEventListener("click",()=>{if(u.innerHTML="",e.classList.contains("video-item")){let t=e.dataset.videoSrc,r=document.createElement("video");r.src=t,r.controls=!0,r.autoplay=!0,r.style.maxWidth="100%",u.appendChild(r)}else{let n=e.querySelector("img").src,o=document.createElement("img");o.src=n,o.style.maxWidth="100%",u.appendChild(o)}d.style.display="flex"})});let m=()=>d.style.display="none";h.addEventListener("click",m),d.addEventListener("click",e=>{e.target===d&&m()})}}(),function e(){let t=document.getElementById("show-more-certs-btn"),r=document.querySelector(".certifications-grid");t&&r&&t.addEventListener("click",()=>{r.classList.add("is-expanded")})}(),function e(){let t=document.querySelectorAll(".profile-pic-container");if(0===t.length)return;let r=["Hi, how are you?","Hope you are doing fine!","How do you like my portfolio so far?","This portfolio is a matrix game.","It includes more than 20 hidden pages.","Most people only find 3-4.","But the smart ones can break the matrix.","Let's see how many you can find.","Message me your count!","Good luck..."],n=0;t.forEach(e=>{let t=e.querySelector(".profile-pic-hover"),o=null;e.addEventListener("mouseenter",()=>{o||(o=document.createElement("span"),t.appendChild(o)),o.textContent=r[n],n=(n+1)%r.length})})}(),function e(){let t=document.getElementById("mobile-menu-toggle"),r=document.getElementById("mobile-menu");t&&r&&t.addEventListener("click",()=>{let e=document.body.classList.toggle("mobile-menu-open");t.setAttribute("aria-expanded",e)})}()});